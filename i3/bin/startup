#!/bin/bash

(

# Keyboard: US layout with Italian letters, CapsLock like Ctrl
setxkbmap -layout it -variant us -option 'caps:ctrl_modifier'
# Caps Lock mapped to: Esc + Ctrl (long press)
xcape -e 'Caps_Lock=Escape;Control_L=Escape;Control_R=Escape'

# Increase delay and rate of keyboard
xset r rate 250 30

# tmp directory needed by browser profile sync and cache
mkdir -p /tmp/${USER}-tmp

# Browser profile sync
# ~/.dotfiles/i3/bin/browser-profile-sync start &>/dev/null </dev/null &

# NetworkManager applet
nm-applet &>/dev/null </dev/null &

# Clipboard manager
parcellite &>/dev/null </dev/null &

# Mount cache directories
mkdir -p /tmp/${USER}-tmp/cache ; ln -nfs /tmp/${USER}-tmp/cache /home/${USER}/.cache
mkdir -p /tmp/${USER}-tmp/thumbnails ; ln -nfs /tmp/${USER}-tmp/thumbnails /home/${USER}/.thumbnails

) &>/dev/null </dev/null &

exit 0
